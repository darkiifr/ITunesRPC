<Window x:Class="ItunesRPC.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        xmlns:local="clr-namespace:ItunesRPC"
        mc:Ignorable="d"
        Title="iTunes RPC" Height="450" Width="600" Icon="pack://application:,,,/Resources/icon.ico" ResizeMode="CanMinimize">
    <Window.Resources>
        <tb:TaskbarIcon x:Key="NotifyIcon"
                         IconSource="pack://application:,,,/Resources/icon.ico"
                         ToolTipText="iTunes RPC">
            <tb:TaskbarIcon.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Ouvrir" Click="ShowWindow_Click"/>
                    <Separator/>
                    <MenuItem Header="Quitter" Click="ExitApplication_Click"/>
                </ContextMenu>
            </tb:TaskbarIcon.ContextMenu>
        </tb:TaskbarIcon>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- En-tête -->
        <StackPanel Grid.Row="0" Margin="10">
            <TextBlock Text="iTunes RPC" FontSize="24" FontWeight="Bold" Margin="0,0,0,10"/>
            <TextBlock Text="Affiche vos musiques iTunes/Apple Music sur Discord" FontSize="14" Margin="0,0,0,5"/>
            <Separator/>
        </StackPanel>
        
        <!-- Contenu principal -->
        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Pochette d'album -->
            <Border Grid.Column="0" Width="150" Height="150" Margin="0,0,10,0" BorderBrush="#CCCCCC" BorderThickness="1">
                <Image x:Name="AlbumArt" Source="pack://application:,,,/Resources/default_album.png" Stretch="Uniform"/>
            </Border>
            
            <!-- Informations sur la musique -->
            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                <TextBlock Text="En attente de musique..." x:Name="StatusText" FontSize="14" Margin="0,0,0,10" TextWrapping="Wrap"/>
                
                <TextBlock Text="Titre:" FontWeight="Bold" Margin="0,5,0,0"/>
                <TextBlock x:Name="TrackNameText" Text="-" TextWrapping="Wrap"/>
                
                <TextBlock Text="Artiste:" FontWeight="Bold" Margin="0,5,0,0"/>
                <TextBlock x:Name="ArtistText" Text="-" TextWrapping="Wrap"/>
                
                <TextBlock Text="Album:" FontWeight="Bold" Margin="0,5,0,0"/>
                <TextBlock x:Name="AlbumText" Text="-" TextWrapping="Wrap"/>
                
                <TextBlock Text="Position:" FontWeight="Bold" Margin="0,5,0,0"/>
                <TextBlock x:Name="PositionText" Text="-" TextWrapping="Wrap"/>
            </StackPanel>
        </Grid>
        
        <!-- Pied de page avec options -->
        <StackPanel Grid.Row="2" Margin="10">
            <Separator Margin="0,0,0,10"/>
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <CheckBox x:Name="AutoStartCheckBox" Content="Démarrer avec Windows" Margin="0,0,0,5" Checked="AutoStartCheckBox_CheckedChanged" Unchecked="AutoStartCheckBox_CheckedChanged"/>
                    <CheckBox x:Name="MinimizeToTrayCheckBox" Content="Minimiser dans la zone de notification" IsChecked="True" Margin="0,0,0,5" Checked="MinimizeToTrayCheckBox_CheckedChanged" Unchecked="MinimizeToTrayCheckBox_CheckedChanged"/>
                    <CheckBox x:Name="ShowNotificationsCheckBox" Content="Afficher les notifications lors des changements de piste" IsChecked="True" Margin="0,0,0,5" Checked="ShowNotificationsCheckBox_CheckedChanged" Unchecked="ShowNotificationsCheckBox_CheckedChanged"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button x:Name="CheckUpdateButton" Content="Vérifier les mises à jour" Padding="10,5" Margin="0,0,10,0" Click="CheckUpdate_Click"/>
                    <Button x:Name="ConfigUpdateButton" Content="Configurer les mises à jour" Padding="10,5" Margin="0,0,10,0" Click="ConfigUpdate_Click"/>
                    <Button x:Name="AboutButton" Content="À propos" Padding="10,5" Click="About_Click"/>
                </StackPanel>
            </Grid>
        </StackPanel>
    </Grid>
</Window>